<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>íŒŒìŠ¤í…” íƒ€ì„ íŠ¸ë˜ì»¤</title>
    
    <!-- ğŸŒŸ Chart.js CDN í•„ìˆ˜ ğŸŒŸ -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

    <!-- ğŸ¨ CSS (ì»¨í…Œì´ë„ˆ ì˜¤ë²„í”Œë¡œìš° ë¬¸ì œ í•´ê²°) -->
    <style>
        /* ------------------------------
           ğŸŒ¸ íŒŒìŠ¤í…” í…Œë§ˆ ë³€ìˆ˜ (í†µí•©)
           ------------------------------ */
        :root {
            --bg: #f7fbff;
            --card: #ffffff;
            --border: #cfe7ff;
        
            --accent: #8abfff;
            --accent-dark: #5a9ce8;
        
            --text-main: #3a4b66;
            --text-light: #6f7c8f;
            --muted: #6f7c8f; 
        
            --start: #b8f0ff;
            --start-hover: #a3e6ff;
        
            --stop: #ffd4d4;
            --stop-hover: #ffbcbc;
        
            --shadow: 0 6px 18px rgba(120, 160, 210, 0.15);
            --radius: 12px;
        }
        
        /* ------------------------------
           ğŸŒ¸ ì „ì²´ ìŠ¤íƒ€ì¼
           ------------------------------ */
        body {
            background: var(--bg);
            font-family: "Pretendard", sans-serif;
            display: flex;
            justify-content: center;
            padding: 15px;
            color: var(--text-main);
        }
        
        /* ìœ„ì ¯ ì¹´ë“œ (ì˜ë  ì‚¬ì´ì¦ˆ) */
        #tracker-widget.card {
            width: 250px;
            background: var(--card);
            border-radius: var(--radius);
            padding: 14px 14px;
            box-shadow: var(--shadow);
            border: 1.5px solid var(--border);
        }
        
        /* ì œëª© */
        .widget-title {
            text-align: center;
            color: var(--accent-dark);
            font-size: 15px;
            margin-bottom: 12px;
            font-weight: 800;
        }
        
        /* ------------------------------
           âœ¨ ì»¨íŠ¸ë¡¤ íŒ¨ë„
           ------------------------------ */
        #control-panel {
            display: flex;
            gap: 6px;
            margin-bottom: 10px;
        }
        
        #task-name {
            flex-grow: 1;
            padding: 6px 8px;
            font-size: 11px;
            border: 1.6px solid var(--border);
            border-radius: var(--radius);
            background: #fff;
            transition: 0.2s;
        }
        
        #task-name:focus {
            outline: none;
            border-color: var(--accent);
            background: #faf6ff;
        }
        
        /* ë²„íŠ¼ ê³µí†µ */
        button {
            padding: 6px 10px;
            font-size: 11px;
            font-weight: 700;
            border: none;
            border-radius: var(--radius);
            cursor: pointer;
            transition: 0.2s;
            white-space: nowrap;
        }
        
        /* START ë²„íŠ¼ */
        #start-button {
            background: var(--start);
            color: var(--text-main);
        }
        #start-button:hover {
            background: var(--start-hover);
        }
        
        /* STOP ë²„íŠ¼ */
        .stop-state {
            background: var(--stop) !important;
        }
        .stop-state:hover {
            background: var(--stop-hover) !important;
        }
        
        /* ------------------------------
           â± íƒ€ì´ë¨¸
           ------------------------------ */
        #timer-display {
            text-align: center;
            font-size: 20px;
            font-weight: 800;
            color: var(--accent-dark);
            margin-bottom: 10px;
        }
        
        /* ------------------------------
           ğŸ“Š í‘œ ì„¹ì…˜
           ------------------------------ */
        #grid-container {
            overflow-x: auto;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: var(--radius);
            overflow: hidden;
            border: 1px solid var(--border);
        }
        
        th, td {
            border: 1px solid var(--border);
            padding: 3px 0;
            height: 22px;
            text-align: center;
            font-size: 10px;
        }
        
        /* í—¤ë” */
        thead th {
            background: #f4f0ff;
            color: var(--text-main);
            font-weight: 600;
        }
        
        /* ì‹œ í—¤ë” */
        .time-header {
            background: var(--accent-dark) !important;
            color: white !important;
            width: 28px;
            font-size: 10px;
        }
        
        /* ê¸°ë¡ëœ ì…€ */
        .filled-cell {
            position: relative;
        }
        
        /* ------------------------------
           âœ¨ ì…€ ë¼ë²¨
           ------------------------------ */
        .cell-label {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 9px;
            font-weight: 600;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 90%;
            color: #333;
            text-shadow: 0 0 2px rgba(255,255,255,0.6);
        }
        
        /* ------------------------------
           âœ¨ ë²„íŠ¼ ê·¸ë£¹ (ì´ˆê¸°í™” + ìš”ì•½)
           ------------------------------ */
        #action-buttons {
            display: flex;
            gap: 8px;
            margin-top: 12px;
        }
        
        /* ê¸°ë¡ ì´ˆê¸°í™” ë²„íŠ¼ */
        #reset-button {
            flex-grow: 1;
            padding: 8px;
            background: #e6e6e6;
            font-size: 11px;
        }
        #reset-button:hover {
            background: #d6d6d6;
        }
        
        /* ì˜¤ëŠ˜ ìš”ì•½ ë³´ê¸° ë²„íŠ¼ */
        #summary-button {
            flex-grow: 1;
            padding: 8px;
            background: var(--accent);
            color: white;
            font-size: 11px;
        }
        #summary-button:hover {
            background: var(--accent-dark);
        }

        /* -------------------------- */
        /* âœ¨ SUMMARY VIEW STYLES (ì˜¤ë²„í”Œë¡œìš° ë¬¸ì œ ì¬ìˆ˜ì •) */
        /* -------------------------- */
        #summary-view {
            padding: 0;
            display: none;
            width: 100%;
        }
        .summary-card {
            background: var(--card);
            border-radius: var(--radius);
            box-shadow: 0 3px 10px rgba(120, 160, 210, 0.1);
            padding: 12px;
            border: 1px solid #e6f1ff;
            margin-bottom: 14px; 
            box-sizing: border-box; 
            width: 100%;
        }

        /* 1. ìš”ì•½/ì´í•© ì„¹ì…˜ */
        .headline{font-weight:800;color:var(--accent);font-size:14px;margin-bottom:8px;text-align:center}
        #total-hours{font-size:20px;font-weight:800;text-align:center;margin:6px 0;color:#3a4b66}
        .tasks{margin-top:10px;display:flex;flex-direction:column;gap:6px}
        .task{display:flex;justify-content:space-between;align-items:center;padding:6px;border-radius:8px;background:#fbfdff;border:1px solid #f0f6ff}
        .badge{display:inline-block;padding:4px 6px;border-radius:999px;font-weight:700;font-size:10px;color:var(--text-main)}
        .small{font-size:10px;color:var(--muted)}
        .task strong{font-size:12px;}

        /* 2. ê·¸ë˜í”„ ì„¹ì…˜ */
        #donut-chart-container {
            position: relative;
            /* **ìˆ˜ì •: ê³ ì •ëœ ë†’ì´ë¥¼ ì œê±°í•˜ì—¬ ì»¨í…Œì´ë„ˆê°€ ë‚´ìš©ë¬¼ì— ë§ê²Œ ìœ ë™ì ìœ¼ë¡œ ëŠ˜ì–´ë‚˜ë„ë¡ í•¨** */
            /* height: 180px;  <- ì´ ë¶€ë¶„ì„ ì œê±° */
            padding-bottom: 5px; /* ë‚´ë¶€ ì—¬ë°± ì¶”ê°€ */
        }
        
        /* ìº”ë²„ìŠ¤ ì‚¬ì´ì¦ˆ ì œì–´ (Chart.js ì˜¤ë²„í”Œë¡œìš° ë°©ì§€) */
        #donut {
            max-width: 100% !important; 
            height: auto !important; 
        }

        #donut-chart-container h3{color:var(--accent-dark);margin:0 0 8px 0;font-size:14px; text-align: center;}
        
        /* 2. ë²”ë¡€(Legend) ê³µê°„ í™•ë³´: ì˜¤ë²„í”Œë¡œìš° ë°œìƒ ì§€ì  */
        .legend{
            display:flex;
            flex-wrap:wrap; /* í•­ëª©ì´ ë§ì„ ë•Œ ì¤„ë°”ê¿ˆ í—ˆìš© */
            gap: 6px 4px; /* ì¤„ë°”ê¿ˆ ì‹œ ì„¸ë¡œ ê°„ê²©(6px)ê³¼ ê°€ë¡œ ê°„ê²©(4px) ì„¤ì • */
            margin-top:12px; /* ì°¨íŠ¸ì™€ì˜ ê°„ê²© í™•ë³´ */
            justify-content: center;
            margin-bottom: 0; /* ì¹´ë“œê°€ ì´ë¯¸ ì¶©ë¶„í•œ íŒ¨ë”©ì„ ê°€ì§€ê³  ìˆìœ¼ë¯€ë¡œ, ë²”ë¡€ ìì²´ì˜ í•˜ë‹¨ ë§ˆì§„ì€ ìµœì†Œí™” */
        }
        .legend-item{
            display:flex;
            gap:4px;
            align-items:center;
            padding:4px 6px;
            border-radius:999px;
            background:#fbfdff;
            border:1px solid #f0f6ff;
            font-size:10px;
        }
        .swatch{width:10px;height:10px;border-radius:3px}

        /* ë’¤ë¡œê°€ê¸° ë²„íŠ¼ */
        #back-button {
            margin-top: 10px;
            width: 100%;
            padding: 8px; 
            background: #e6e6e6;
            font-size: 11px;
        }
        #back-button:hover {
            background: #d6d6d6;
        }

    </style>
</head>
<body>
    <div id="tracker-widget" class="card">
        
        <!-- ğŸŒŸ ë©”ì¸ ë·° ğŸŒŸ -->
        <div id="main-view">
            <h3 class="widget-title">â³ ì‹œê°„ íŠ¸ë˜ì»¤</h3>
            
            <div id="control-panel">
                <input type="text" id="task-name" placeholder="ì§€ê¸ˆ í•˜ëŠ” ì¼" maxlength="20">
                <button id="start-button">START</button>
            </div>
        
            <div id="timer-display">
                <span id="time-elapsed">00:00:00</span>
            </div>
            
            <!-- Grid (í‘œ) ì˜ì—­ -->
            <div id="grid-container">
                <table>
                    <thead>
                        <tr>
                            <th class="time-header">ì‹œ</th>
                            <th>00</th><th>10</th><th>20</th><th>30</th><th>40</th><th>50</th>
                        </tr>
                    </thead>
                    <tbody id="time-grid-body">
                        <!-- JSì—ì„œ í–‰ì´ ì±„ì›Œì§‘ë‹ˆë‹¤. -->
                    </tbody>
                </table>
            </div>
        
            <div id="action-buttons">
                <button id="reset-button">ğŸ”„ ê¸°ë¡ ì´ˆê¸°í™”</button> 
                <button id="summary-button">ì˜¤ëŠ˜ ìš”ì•½ ë³´ê¸°</button>
            </div>
        </div>

        <!-- ğŸŒŸ ìš”ì•½ ë·° ğŸŒŸ -->
        <div id="summary-view" style="display: none;">
            
            <!-- 1. ì´í•© ë° ìƒì„¸ ë¦¬ìŠ¤íŠ¸ -->
            <div class="summary-card">
                <div class="headline">ì˜¤ëŠ˜ ìš”ì•½</div>
                <div id="total-hours" class="total"></div>
                <div id="task-list" class="tasks">
                    <!-- ìƒì„¸ íƒœìŠ¤í¬ ë¦¬ìŠ¤íŠ¸ê°€ JSë¡œ ì±„ì›Œì§ -->
                </div>
            </div>

            <!-- 2. ê·¸ë˜í”„ -->
            <div class="summary-card" id="donut-chart-container">
                <h3>íƒœìŠ¤í¬ ë¶„í¬</h3>
                <canvas id="donut"></canvas>
                <div class="legend" id="legend"></div>
            </div>

            <button id="back-button">â¬…ï¸ íŠ¸ë˜ì»¤ë¡œ ëŒì•„ê°€ê¸°</button>
        </div>
        
    </div>

    <!-- ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ ë¡œë“œ -->
    <script src="script.js"></script>
</body>
</html>
